@import url('https://fonts.googleapis.com/css2?family=Sail&family=Great+Vibes&display=swap');

@font-face {
  font-family: 'Retro British';
  src: url('https://fonts.cdnfonts.com/s/30091/RetroBritish.woff2') format('woff2'),
       url('https://fonts.cdnfonts.com/s/30091/RetroBritish.woff') format('woff');
  font-weight: 400;
  font-style: normal;
  font-display: swap;
}

/* Custom font placeholders (provide actual woff2 files later) */
@font-face { font-family: 'CaxtonLtBT'; src: local('Caxton Lt BT'), local('CaxtonLtBT'); font-weight:400; }
@font-face { font-family: 'Minggola'; src: local('Minggola'); font-weight:400; }

:root {
  --color-bg: #FBD4AB; /* base color */
  --color-surface: #FFE3C7;
  --color-surface-alt: #FFD6B0;
  --color-accent: #008F7D; /* button */
  --color-accent-2: #FF9643; /* header accent */
  --color-text: #000000;
  --color-text-inverse: #ffffff;
  --radius: 14px;
  --font-display: 'Sail','Great Vibes','Minggola',cursive;
  --font-script: 'Great Vibes','Sail',cursive;
  --font-body: 'CaxtonLtBT', system-ui, sans-serif;
  --noise-opacity: .25;
  --shadow-card: 0 4px 10px rgba(0,0,0,.18);
  --font-product-title: 'Retro British', 'CaxtonLtBT', sans-serif;
}

html, body { margin:0; padding:0; font-family: var(--font-body); background:#5b745f; color: var(--color-text); -webkit-font-smoothing:antialiased; }

.product-title-font { font-family: var(--font-product-title) !important; font-weight:600; letter-spacing:.01em; }

.home-hero {
  background-image: url('/assets/textures/home-hero.jpg');
  background-size: cover;
  background-position: center;
  background-attachment: fixed;
}

body.home-hero::before {
  display: none; /* Hide the paper.webp overlay on the home page */
}

a { color: var(--color-accent); text-decoration:none; }
a:hover { text-decoration:underline; }

/* Paper texture overlay (paper uses WebP; hero texture uses JPEG) */
body::before {
  content:'';
  position:fixed;
  inset:0;
  pointer-events:none;
  /* Full-page uniform paper texture (removed previous vertical fade) */
  /* Using WebP for paper for better compression */
  background: url('/assets/textures/paper.webp');
  background-size:cover; /* If you create a seamless smaller tile switch to: 800px auto; background-repeat:repeat; */
  background-position:center;
  mix-blend-mode:multiply; /* keeps color palette while adding grain */
  opacity:.45; /* adjust 0.3â€“0.55 for taste */
  z-index:0;
}
/* (Removed previous sunburst overlay to keep only paper texture) */

.container { max-width:1180px; margin:0 auto; padding:1.5rem; }

/* Admin dashboard charts */
.admin-dashboard { display: grid; gap: 1.2rem; margin-top: .5rem; font-family: system-ui, -apple-system, 'Segoe UI', Roboto, Helvetica, Arial, 'Noto Sans', sans-serif; }
.kpi-grid { display: grid; grid-template-columns: repeat(auto-fit, minmax(180px,1fr)); gap: .8rem; }
.kpi-card { background: var(--color-surface); border-radius: 14px; padding: .9rem 1rem; box-shadow: 0 8px 24px -12px rgba(0,0,0,.35), inset 0 0 0 1px rgba(0,0,0,.06); transition: transform .2s ease, box-shadow .2s ease; }
.kpi-card:hover { transform: translateY(-2px); box-shadow: 0 12px 28px -12px rgba(0,0,0,.45), inset 0 0 0 1px rgba(0,0,0,.06); }
.kpi-title { font-size: .7rem; opacity: .75; letter-spacing: .7px; text-transform: uppercase; font-weight: 600; }
.kpi-value { 
  font-size: 1.5rem; 
  font-weight: 800; 
  margin-top: .2rem; 
  color: var(--color-accent);
  background: linear-gradient(135deg, #00A38A 0%, #76e7da 80%);
  -webkit-background-clip: text; background-clip: text; color: transparent;
  text-shadow: 0 1px 0 rgba(0,0,0,.18);
}
.kpi-sub { font-size: .7rem; opacity: .8; margin-top: .2rem; }

.chart-panel { background: var(--color-surface); border-radius: 16px; padding: 1rem; box-shadow: 0 8px 24px -12px rgba(0,0,0,.35), inset 0 0 0 1px rgba(0,0,0,.06); }
.chart-header { display:flex; align-items:center; justify-content:space-between; margin-bottom: .5rem; }
.chart-header h3 { margin: 0; font-size: 1rem; }
.chart-legend { font-size: .7rem; display:flex; align-items:center; gap:.4rem; opacity:.8; }
.legend-dot { width:10px; height:10px; border-radius: 999px; display:inline-block; }
.legend-rev { background: var(--color-accent); }
.legend-ord { background: #ff9643; }
.chart-wrap { position: relative; width: 100%; height: 260px; }
.chart-wrap svg { position:absolute; inset:0; width:100%; height:100%; }
.tooltip { position:absolute; bottom: calc(100% - 8px); transform: translateX(-50%); pointer-events:none; }
.tooltip-inner { background:#0f1525; color:#fff; border:1px solid #2a3557; border-radius:8px; padding:.4rem .55rem; font-size:.7rem; box-shadow:0 10px 24px -10px rgba(0,0,0,.45); }

@media (max-width: 640px) {
  /* Make KPI grid two columns on mobile */
  .kpi-grid { grid-template-columns: repeat(2, 1fr) !important; }
  .chart-wrap { height: 220px; }
}

/* Panels */
.panel { background: var(--color-bg); border-radius:22px; box-shadow:0 10px 26px -8px rgba(0,0,0,.25); position:relative; overflow:hidden; }
.panel::after { content:''; position:absolute; inset:0; pointer-events:none; background-image:radial-gradient(rgba(0,0,0,0.12) 0.5px,transparent 0.5px); background-size:8px 8px; opacity:.22; mix-blend-mode:multiply; }
/* Optional internal texture overlay for panels */
/* Optional internal texture overlay for panels (paper = webp) */
.panel.textured::before { content:''; position:absolute; inset:0; pointer-events:none; background:url('/assets/textures/paper.webp') center/900px auto repeat; opacity:.35; mix-blend-mode:multiply; }
/* Home hero custom texture (now at /assets/textures/home-hero.jpg). */
/* Hero texture: configurable sizing via --hero-texture-size. Add .hero-texture-contain to show full image without crop. */
.panel.hero-texture { position:relative; z-index:0; }
.panel.hero-texture > * { position:relative; z-index:1; }
.panel.hero-texture::before { content:''; position:absolute; inset:0; pointer-events:none; z-index:0;
  background: url('/assets/textures/home-hero.jpg') center/100% 100% no-repeat;
  background-repeat:no-repeat;
  background-size:100% 100%;
  mix-blend-mode:multiply; opacity:.55; }
@media (max-width:960px){ .panel.hero-texture::before { opacity:.5; } }
/* Debug: add .hero-texture-debug to outline hero panel */
.hero-texture-debug { outline:2px dashed rgba(0,0,0,.4); }

/* Hero */
.hero { display:grid; grid-template-columns:minmax(260px,380px) 1fr; gap:3.5rem; padding:3.2rem clamp(1.2rem,3vw,2.8rem) 3.6rem; align-items:center; }
@media (max-width:960px){ .hero { grid-template-columns:1fr; gap:2rem; padding:2.2rem 1.4rem 2.8rem; } }
.hero-left { position:relative; }
.hero-left .photo-wrapper { border-radius:20px; overflow:hidden; box-shadow:0 6px 18px -6px rgba(0,0,0,.4); background:#000; }
.hero-left img { width:100%; aspect-ratio:3/4; object-fit:cover; display:block; }
.hero-headline {
  font-family:var(--font-display);
  color:var(--color-accent-2);
  font-size:clamp(2.8rem,5.2vw,4.2rem);
  line-height:.9;
  margin:0 0 1.2rem;
  /* Strong outline + stacked diagonal comic shadow */
  -webkit-text-stroke:1.5px #000;
  paint-order:stroke fill;
  text-shadow:
    /* crisp outline reinforcement */
    -1px -1px 0 #000,
     1px -1px 0 #000,
    -1px  1px 0 #000,
     1px  1px 0 #000,
    /* stacked extrusion (bottom-right) */
     2px 2px 0 #000,
     3px 3px 0 #000,
     4px 4px 0 #000,
     5px 5px 0 #000,
     6px 6px 0 #000;
}
.about-hero-title {
  font-size: clamp(2.4rem, 4.2vw, 3.4rem);
  margin: 0 0 1.4rem;
  text-align: center;
}

.about-section-title {
  font-family: var(--font-display);
  color: var(--color-accent-2);
  font-size: clamp(1.8rem, 3.6vw, 2.6rem);
  margin: 0 0 1.1rem;
  text-align: center;
  -webkit-text-stroke: 1.2px #000;
  paint-order: stroke fill;
  text-shadow:
    -1px -1px 0 #000,
     1px -1px 0 #000,
    -1px  1px 0 #000,
     1px  1px 0 #000,
     2px 2px 0 #000,
     3px 3px 0 #000,
     4px 4px 0 rgba(0,0,0,.38),
     6px 6px 0 rgba(0,0,0,.32);
}
.hero-hours { font-weight:600; font-size:.8rem; margin:.4rem 0 1.2rem; }
.hero-actions { display:flex; gap:.9rem; flex-wrap:wrap; align-items:center; }
.btn-sale { background:#008F7D; color:#fff; font-weight:700; font-size:.9rem; padding:.85rem 1.4rem; border-radius:10px; box-shadow:0 4px 0 #046a5d, 0 8px 18px -6px rgba(0,0,0,.4); transition:transform .25s, box-shadow .25s; letter-spacing:.5px; text-decoration:none; }
.btn-sale:hover { transform:translateY(-3px); box-shadow:0 6px 0 #046a5d, 0 14px 28px -10px rgba(0,0,0,.45); }

.social-row { display:flex; gap:.55rem; margin-top:1.6rem; }
/* Hero social icons (round black with white text) */
.social-icon { width:38px; height:38px; border-radius:50%; background:#000; display:grid; place-items:center; color:#fff; transition:background .25s, transform .25s; font-size:.55rem; font-weight:700; letter-spacing:1px; }
.social-icon svg { width:18px; height:18px; fill:currentColor; }
.social-icon:hover { background:#111; color:#fff; transform:translateY(-4px) rotate(-4deg); }

.logo { display:flex; align-items:center; gap:.65rem; text-decoration:none; }
.logo:hover { text-decoration:none !important; }
.logo-mark { display:inline-flex; align-items:center; justify-content:center; height:42px; width:74px; background:transparent; color:#111; border-radius:12px; padding:4px 10px; }
.logo-mark svg { display:block; height:100%; width:auto; }
.logo-text { font-family:var(--font-script); font-size:1.95rem; line-height:1; letter-spacing:.5px; color:#111; position:relative; top:2px; text-shadow:2px 2px 0 #ff964320, 0 0 1px #00000040; }
.logo-text:hover { text-decoration:none; }
.brand-btn { background:#111; color:#fff; padding:.55rem 1rem .6rem; border-radius:40px; font-family:var(--font-script); font-size:1.4rem; line-height:1; display:inline-flex; align-items:center; gap:.55rem; box-shadow:0 4px 14px -6px rgba(0,0,0,.45); transition:background .3s, transform .3s; }
.brand-btn:hover { background:#000; transform:translateY(-2px); }
.nav-links { display:flex; gap:1.2rem; align-items:center; margin-left:auto; }
.nav-links a { font-size:.78rem; letter-spacing:.6px; }

/* Extra animation helpers */
.float-slow { animation: floatY 6s ease-in-out infinite; }
@keyframes floatY { 0%,100% { transform:translateY(-4px);} 50% { transform:translateY(4px);} }

@keyframes wiggle { 0%,100% { transform:rotate(-2deg) translateY(0);} 50% { transform:rotate(2deg) translateY(-2px);} }
.wiggle { animation: wiggle 3.8s ease-in-out infinite; display:inline-block; }

@media (prefers-reduced-motion: reduce) {
  .float-slow, .wiggle { animation:none; }
}

.grid { display:grid; gap:1.2rem; grid-template-columns:repeat(auto-fill,minmax(220px,1fr)); }
/* Dedicated product list grid */
.product-grid { grid-template-columns: repeat(4, 1fr); }
@media (max-width: 1200px) { .product-grid { grid-template-columns: repeat(3, 1fr); } }
@media (max-width: 960px) { .product-grid { grid-template-columns: repeat(2, 1fr); } }

.card {
  --card-text:#13322c;
  --card-heading:#0b0b0b;
  --card-muted:#1f4e46;
  background: var(--color-surface);
  padding: .85rem .85rem .7rem;
  border-radius: var(--radius);
  position: relative;
  overflow: hidden;
  box-shadow: var(--shadow-card);
  border: 1px solid #e3c1a0;
  z-index: 0; /* Establish stacking context */
  color:var(--card-text);
}

/* Add texture to all product cards */
.card::before {
  content: '';
  position: absolute;
  inset: 0;
  background: url('/assets/textures/home-hero.jpg') center/cover;
  mix-blend-mode: multiply;
  opacity: .4;
  pointer-events: none;
  z-index: 0;
}

/* Ensure card content is above the texture overlay */
.card > * {
  position: relative;
  z-index: 1;
}
.card h3 { margin:.35rem 0 .45rem; font-family: var(--font-display); font-size:1.02rem; color:var(--card-heading); }
.card p { color:var(--card-muted); }
.badge { position:absolute; top:.6rem; right:.6rem; background: var(--color-accent-2); color:#000; padding:.25rem .55rem; font-size:.65rem; border-radius:20px; letter-spacing:.5px; z-index: 2; /* Ensure badge is on top */ }

/* Animations */
@keyframes fadeUp { from { opacity:0; transform:translateY(12px); } to { opacity:1; transform:translateY(0); } }
.fadeUp { animation: fadeUp .6s cubic-bezier(.22,.68,0,1) both; }

/* Simple responsive layout for admin forms */
form.product-form { display:grid; gap:.6rem; grid-template-columns:repeat(auto-fit,minmax(180px,1fr)); }
form.product-form label { display:flex; flex-direction:column; font-size:.75rem; text-transform:uppercase; letter-spacing:.8px; }
input, textarea { background:#1e2b4f; color:var(--color-text); border:1px solid #22315a; padding:.55rem .7rem; border-radius:6px; font:inherit; }
button { cursor:pointer; font:inherit; background:var(--color-accent); color:var(--color-text-inverse); border:none; padding:.65rem 1.15rem; border-radius:40px; font-weight:600; letter-spacing:.5px; box-shadow:0 2px 4px rgba(0,0,0,.15); transition:background .2s, transform .2s; }
button.secondary { background:var(--color-accent-2); }
button:hover { background:#006d60; transform:translateY(-2px); }
button:active { transform:translateY(0); }
button:disabled { opacity:.5; cursor:not-allowed; }

/* Mobile product grid tightening: aim ~6 items visible (2 cols x ~3 rows) */
@media (max-width: 640px) {
  .grid { grid-template-columns: repeat(2, 1fr); gap: .6rem; }
  .card { padding: .55rem .55rem .5rem; border-radius: 10px; }
  .card h3 { font-size: .82rem; margin: .25rem 0 .35rem; }
  .card p { font-size: .65rem; line-height: 1.25; }
  .badge { top: .4rem; right: .4rem; padding: .15rem .4rem; font-size: .55rem; }
  /* ZoomImage container inside card (2nd div child due to badge being first div) */
  .card > div:nth-of-type(2) { height: 150px !important; border-radius: 10px; }
}

@media (max-width: 540px) {
  .product-grid { grid-template-columns: repeat(2, minmax(0, 1fr)); }
  .card { padding: .6rem .6rem .55rem; }
  .card > div:nth-of-type(2) { height: 180px !important; }
}

/* Filter bar mobile ordering and custom select styling (mobile only) */
@media (max-width: 640px) {
  .filter-bar { gap:.6rem; display:grid !important; grid-template-columns: 1fr 1fr; }
  .filter-input { grid-column: 1 / -1; }
  /* Order: Category first row right, Sort second row left */
  .filter-cat { order: 1; }
  .filter-sort { order: 2; }
  .filter-count { order: 3; grid-column: 2; justify-self: end; align-self:center; font-size:.6rem !important; }

  /* Hide native selects on mobile, use custom ones */
  .filter-select { display: none !important; }
  
  /* Custom select styling for mobile */
  .custom-select {
    position: relative;
    width: 100%;
  }
  
  .custom-select-trigger {
    width: 100%;
    background: #1e2b4f;
    color: #fff;
    border: 1px solid #22315a;
    padding: .55rem .75rem;
    border-radius: 10px;
    font-size: .7rem;
    letter-spacing: .5px;
    display: flex;
    justify-content: space-between;
    align-items: center;
    cursor: pointer;
    font-family: var(--font-body);
  }
  
  .custom-select-trigger:focus {
    outline: 2px solid var(--color-accent);
    outline-offset: 2px;
  }
  
  .custom-select-arrow {
    transition: transform 0.2s ease;
    flex-shrink: 0;
  }
  
  .custom-select-arrow.open {
    transform: rotate(180deg);
  }
  
  .custom-select-dropdown {
    position: absolute;
    top: 100%;
    left: 0;
    right: 0;
    background: #1e2b4f;
    border: 1px solid #22315a;
    border-radius: 10px;
    margin-top: 4px;
    z-index: 1000;
    box-shadow: 0 8px 25px -8px rgba(0,0,0,0.3);
    max-height: 200px;
    overflow-y: auto;
  }
  
  .custom-select-option {
    width: 100%;
    background: transparent;
    color: #fff;
    border: none;
    padding: .75rem;
    font-size: .7rem;
    text-align: left;
    cursor: pointer;
    font-family: var(--font-body);
    transition: background-color 0.2s ease;
  }
  
  .custom-select-option:hover,
  .custom-select-option.selected {
    background: rgba(0,143,125,0.2);
  }
  
  .custom-select-option:first-child {
    border-radius: 10px 10px 0 0;
  }
  
  .custom-select-option:last-child {
    border-radius: 0 0 10px 10px;
  }
}

nav.site-nav.primary-nav { 
  position: sticky; 
  top: 0; 
  z-index: 100; 
  background: var(--color-bg); 
  display: flex; 
  align-items: center; 
  padding: 1rem 1.2rem 1rem 72px; 
  gap: 1rem; 
  box-shadow: 0 6px 18px -10px rgba(0,0,0,.3);
  width: 100%;
  min-height: 64px;
  box-sizing: border-box;
  overflow: visible; /* Ensure contents are visible */
  contain: layout; /* Contain layout to prevent overflow issues */
}
/* Ensure navbar background covers any texture bleeding */
nav.site-nav.primary-nav::before {
  content: '';
  position: absolute;
  inset: 0;
  background: var(--color-bg);
  z-index: -1;
}
nav.site-nav .nav-left { display:flex; align-items:center; }
nav.site-nav .nav-center { flex:1; display:flex; justify-content:center; min-width: 0; }
nav.site-nav .nav-right { display:flex; justify-content:flex-end; flex-shrink: 0; }
.nav-menu { list-style:none; margin:0; padding:0; display:flex; gap:3.2rem; }
.nav-menu a { font-family:var(--font-body); font-size:.68rem; font-weight:600; letter-spacing:2.2px; text-transform:uppercase; color:#111; position:relative; text-decoration:none; }
.nav-menu a::after { content:''; position:absolute; left:50%; bottom:-6px; width:0; height:2px; background:var(--color-accent); transition:.35s; transform:translateX(-50%); }
.nav-menu a:hover::after, .nav-menu a:focus-visible::after { width:60%; }

@media (max-width: 1024px) {
  nav.site-nav.primary-nav { padding-left: 32px; }
}

@media (max-width: 640px) {
  nav.site-nav.primary-nav { justify-content: flex-start; padding-left: 5px; padding-right: 1rem; }
  nav.site-nav .nav-left { flex: 0 0 auto; }
  .logo { margin-left: 0; }
}

/* About page process snapshot */
.process-snapshot {
  position: relative;

@media (max-width: 640px) {
  nav.site-nav.primary-nav { justify-content: flex-start; padding-left: 5px; padding-right: 1rem; }
  nav.site-nav .nav-left { flex: 0 0 auto; }
  .logo { margin-left: 0; }
}
  max-width: min(940px, 100%);
  margin: 0 auto;
  padding: 2.4rem clamp(1.2rem, 4vw, 3rem) 3.4rem;
}

.process-snapshot__loop {
  position: absolute;
  inset: 0;
  width: 100%;
  height: 100%;
  opacity: .35;
  z-index: 0;
  filter: drop-shadow(0 16px 30px rgba(0,0,0,.22));
}

.process-snapshot__grid {
  position: relative;
  z-index: 1;
  display: grid;
  grid-template-columns: repeat(3, minmax(0, 1fr));
  grid-template-areas:
    "step1 step2 step3"
    "step6 step5 step4";
  gap: 1.8rem clamp(1.1rem, 3vw, 2rem);
  align-items: stretch;
}

.process-card {
  position: relative;
  display: grid;
  justify-items: center;
  gap: .55rem;
  padding: 1.6rem 1.3rem 1.25rem;
  border-radius: 16px;
  background: #fff5dd;
  border: 2px solid #3b2817;
  box-shadow:
    6px 6px 0 #231407,
    0 18px 34px -20px rgba(0, 0, 0, .65);
  text-align: center;
  transition: transform .4s cubic-bezier(.16, 1, .3, 1), box-shadow .4s cubic-bezier(.16, 1, .3, 1);
  isolation: isolate;
}

.process-card::after {
  content: '';
  position: absolute;
  inset: 6px;
  border-radius: 12px;
  background:
    linear-gradient(135deg, rgba(255, 214, 176, .45) 0%, rgba(255, 239, 213, .85) 60%),
    repeating-linear-gradient(45deg, rgba(77, 51, 32, .08) 0 6px, transparent 6px 12px);
  mix-blend-mode: multiply;
  pointer-events: none;
  z-index: -1;
}

.process-card::before {
  content: '';
  position: absolute;
  width: 68%;
  height: 16px;
  top: -12px;
  left: 16%;
  border-radius: 40px;
  background: linear-gradient(90deg, #f7c25c 0%, #ff9f5a 55%, #cc5a4c 100%);
  box-shadow: 0 4px 0 rgba(0,0,0,.25);
  transform: rotate(-2deg);
  z-index: -2;
}

.process-card--top { transform: translate(-4px, -1.3rem) rotate(-1.6deg); }
.process-card--bottom { transform: translate(4px, 1.3rem) rotate(1.8deg); }
.process-card:hover {
  transform: translateY(-6px) rotate(0deg);
  box-shadow:
    6px 6px 0 #231407,
    0 38px 70px -40px rgba(0,0,0,.65);
}

.process-card__icon {
  width: 68px;
  height: 68px;
  border-radius: 999px;
  display: grid;
  place-items: center;
  font-size: 1.8rem;
  box-shadow: inset 0 0 0 3px #000, 0 18px 26px -18px rgba(0,0,0,.55);
  border: 4px solid #ffe9b7;
  margin-top: -2.9rem;
  background: radial-gradient(circle at 30% 30%, #ffe9b7 0%, #f89054 70%);
}

.process-card__icon span { transform: translateY(1px); }

.process-card__step {
  font-size: .7rem;
  letter-spacing: .14em;
  text-transform: uppercase;
  color: #5a3d28;
  font-weight: 700;
  text-shadow: 1px 1px 0 rgba(0,0,0,.12);
}

.process-card__title {
  margin: 0;
  font-size: .94rem;
  font-weight: 800;
  letter-spacing: .06em;
  text-transform: uppercase;
  text-shadow: 2px 2px 0 rgba(0,0,0,.12);
}

.process-card__body {
  margin: 0;
  font-size: .76rem;
  line-height: 1.55;
  max-width: 15.5rem;
  color: #3e2a1d;
}

@media (max-width: 1024px) {
  .process-snapshot__grid {
    grid-template-columns: repeat(2, minmax(0, 1fr));
    grid-template-areas:
      "step1 step2"
      "step3 step4"
      "step5 step6";
  }

  .process-card--top,
  .process-card--bottom {
    transform: none;
  }

  .process-snapshot__loop { opacity: .25; }
}

@media (max-width: 640px) {
  .process-snapshot {
    padding: 2rem 1rem 2.4rem;
  }

  .process-snapshot__grid {
    grid-template-columns: 1fr;
    grid-template-areas:
      "step1"
      "step2"
      "step3"
      "step4"
      "step5"
      "step6";
    gap: 1.05rem;
  }

  .process-card {
    padding: 1.05rem .9rem .92rem;
    border-radius: 14px;
    border-width: 1.7px;
  }

  .process-card::before {
    width: 72%;
    height: 11px;
    top: -9px;
  }

  .process-card__icon {
    width: 46px;
    height: 46px;
    margin-top: -1.8rem;
    font-size: 1.2rem;
    border-width: 3px;
  }

  .process-card__step { font-size: .62rem; }
  .process-card__title { font-size: .74rem; }
  .process-card__body { font-size: .66rem; }
}

/* Responsive helpers */
.desktop-only { display:block; }
.mobile-only { display:none; }

/* Category Dropdown Styles */
.category-dropdown {
  position: relative;
  display: inline-block;
}

.category-toggle {
  font-family: var(--font-body);
  font-size: .68rem;
  font-weight: 600;
  letter-spacing: 2.2px;
  text-transform: uppercase;
  color: #111;
  background: none;
  border: none;
  cursor: pointer;
  display: flex;
  align-items: center;
  gap: 0.5rem;
  padding: 0;
  position: relative;
  text-decoration: none;
  outline: none; /* Remove focus outline */
  box-shadow: none; /* Remove any box shadow */
}

.category-toggle:hover {
  background: none; /* Ensure no background on hover */
  box-shadow: none; /* Ensure no shadow on hover */
}

.category-toggle:focus {
  background: none; /* Ensure no background on focus */
  box-shadow: none; /* Ensure no shadow on focus */
  outline: none; /* Remove focus outline */
}

.category-toggle::after {
  content: '';
  position: absolute;
  left: 50%;
  bottom: -6px;
  width: 0;
  height: 2px;
  background: var(--color-accent);
  transition: .35s;
  transform: translateX(-50%);
}

.category-toggle:hover::after {
  width: 60%;
}

.dropdown-arrow {
  font-size: 0.5rem;
  transition: transform 0.3s ease;
}

.dropdown-arrow.open {
  transform: rotate(180deg);
}

.category-menu {
  position: absolute;
  top: 100%;
  left: 50%;
  transform: translateX(-50%);
  background: var(--color-surface);
  border-radius: 12px;
  box-shadow: 0 8px 25px -8px rgba(0,0,0,0.3);
  padding: 1rem 0;
  margin-top: 0.5rem;
  min-width: 200px;
  z-index: 100;
  border: 1px solid #e3c1a0;
}

.category-menu ul {
  list-style: none;
  margin: 0;
  padding: 0;
}

.category-menu li {
  margin: 0;
}

.category-link {
  display: block;
  padding: 0.75rem 1rem;
  color: #111;
  text-decoration: none;
  font-size: 0.9rem;
  font-weight: 600;
  letter-spacing: .3px;
  text-transform: none;
  border-radius: 8px;
  transition: background-color .18s ease, color .18s ease;
}

.category-link:hover {
  background-color: rgba(0,143,125,0.12); /* subtle theme-tinted hover */
  color: #0b3b36; /* readable dark teal */
}

.category-link:focus-visible {
  outline: 2px solid #008F7D;
  outline-offset: 2px;
  background-color: rgba(0,143,125,0.1);
}

.nav-search { position:relative; background:#008F7D; border-radius:40px; padding:.25rem .9rem .25rem 2.6rem; display:flex; align-items:center; box-shadow:0 4px 14px -6px rgba(0,0,0,.45); }
.nav-search .search-icon { position:absolute; left:.5rem; width:28px; height:28px; opacity:.9; display:flex; align-items:center; justify-content:center; }
.nav-search .search-lottie { 
  width:100%; 
  height:100%; 
  object-fit:contain;
  pointer-events:none;
  will-change:transform;
}
.nav-search input { background:transparent; border:none; outline:none; color:#fff; font-size:.7rem; letter-spacing:.5px; width:160px; font-family:var(--font-body); }
.nav-search input::placeholder { color:#ffffffaa; }
@media (max-width:880px){
  .nav-menu { gap:1.2rem; }
  .nav-search input { width:100px; }
}
@media (max-width:768px){
  .nav-center { display:none; }
  .nav-search { margin-left:auto; }
  .nav-search input { width:80px; }
}

/* Mobile nav */
.nav-toggle { 
  display: none; 
  background: var(--color-accent); 
  border: none; 
  color: #fff; 
  padding: .6rem .8rem; 
  border-radius: 8px; 
  cursor: pointer; 
  font-size: 1.1rem; 
  font-weight: 600;
  min-width: 48px;
  min-height: 48px;
  align-items: center;
  justify-content: center;
  flex-shrink: 0;
  touch-action: manipulation; /* Better touch handling on mobile */
  transition: transform 0.2s ease, background-color 0.2s ease;
  position: relative;
  overflow: hidden;
}

.nav-toggle:hover {
  transform: scale(1.05);
}

.nav-toggle:active {
  transform: scale(0.95);
}

/* Add a ripple effect for the hamburger */
.nav-toggle::before {
  content: '';
  position: absolute;
  top: 50%;
  left: 50%;
  width: 0;
  height: 0;
  background: rgba(255, 255, 255, 0.2);
  border-radius: 50%;
  transform: translate(-50%, -50%);
  transition: width 0.3s ease, height 0.3s ease;
}

.nav-toggle:active::before {
  width: 60px;
  height: 60px;
}

/* Animated Hamburger Icon */
.hamburger-icon {
  display: flex;
  flex-direction: column;
  justify-content: space-between;
  width: 20px;
  height: 16px;
  position: relative;
}

.hamburger-icon .line {
  display: block;
  width: 100%;
  height: 2px;
  background-color: white;
  border-radius: 1px;
  transition: all 0.3s ease-in-out;
  transform-origin: center;
}

.hamburger-icon .line1 {
  transform: translateY(0);
}

.hamburger-icon .line2 {
  opacity: 1;
}

.hamburger-icon .line3 {
  transform: translateY(0);
}

/* When hamburger is open (transforms to X) */
.hamburger-icon.open .line1 {
  transform: translateY(7px) rotate(45deg);
}

.hamburger-icon.open .line2 {
  opacity: 0;
  transform: scaleX(0);
}

.hamburger-icon.open .line3 {
  transform: translateY(-7px) rotate(-45deg);
}

.nav-links {
  display: none; /* Completely hidden by default */
}

@media (max-width:640px){
  nav.site-nav { 
    font-size: 1.3rem; 
    padding: 0.8rem 1rem 0.8rem 1rem; /* Remove right padding */
    min-height: 64px;
    max-height: 64px; /* Fixed height to prevent overflow */
    flex-wrap: nowrap;
    display: flex !important;
    align-items: center;
    justify-content: space-between;
    width: 100%;
    box-sizing: border-box;
    overflow: hidden; /* Prevent any overflow outside navbar */
  }
  /* Swap visibility for mobile */
  .desktop-only { display:none !important; }
  .mobile-only { display:block !important; }

  .nav-center { display: none !important; }
  .nav-left {
    flex: 1;
    display: flex;
    align-items: center;
    min-width: 0; /* Allow shrinking if needed */
  }
  .nav-right {
    display: flex;
    align-items: center;
    gap: 0; /* Remove gap completely */
    flex-shrink: 0;
    justify-content: flex-end;
    margin-left: auto;
    margin-right: -1rem; /* Extend to the absolute edge */
  }
  /* Place Categories (mobile-only) before hamburger */
  .nav-right .mobile-only { order:1; margin-right:.5rem; display:flex; align-items:center; }
  .nav-toggle { 
    display: flex !important; 
    margin: 0;
    margin-right: 0; /* No right margin */
    flex-shrink: 0;
    position: relative;
    order: 2; /* Ensure hamburger comes after search */
  }
  /* Default compact search (hidden on mobile via .desktop-only wrapper) */
  .nav-search { 
    margin: 0;
    margin-right: 0.5rem; /* Add space between search and hamburger */
    flex-shrink: 1;
    max-width: 100px;
    order: 1; /* Search comes before hamburger */
    padding: .25rem .7rem .25rem 2.3rem; /* More padding for bigger mobile icon */
  }
  .nav-search input {
    width: 60px; /* Smaller search input on mobile */
    min-width: 60px;
  }
  .nav-search .search-icon {
    left: .35rem; /* Adjust position for much larger icon on mobile */
    width: 24px; /* Much bigger icon for mobile */
    height: 24px;
  }
  
  .nav-links { 
    display: flex; /* Always flex, but hidden with transform */
    position: fixed; 
    inset: 0 0 auto 0; 
    top: 64px; /* Match navbar height exactly - no gap */
    background: var(--color-bg); /* Same as navbar */
    flex-direction: column; 
    padding: 1.2rem 1.4rem 2.4rem; 
    gap: 1.5rem; 
    transform: translateY(-100%); /* Start completely hidden above */
    transition: transform 0.5s cubic-bezier(0.25, 0.8, 0.25, 1), 
                opacity 0.4s ease,
                visibility 0.4s ease,
                box-shadow 0.3s ease; 
    box-shadow: 0 0 0 rgba(0,0,0,0); /* No shadow when hidden */
    margin-left: 0; 
    z-index: 50;
    width: 100%;
    box-sizing: border-box;
    border-top: none; /* Remove border for seamless match */
    opacity: 0; /* Start invisible */
    visibility: hidden; /* Completely hidden */
    pointer-events: none; /* Don't interfere with other elements when hidden */
  }

  /* Full-width search inside the mobile menu */
  .nav-links .nav-links-search { 
    width: 100%; 
    max-width: 100%; 
    box-sizing: border-box; 
    margin: 0; 
  }
  .nav-links .nav-links-search input { 
    width: 100% !important; 
    min-width: 0; 
  }
  .nav-links .nav-links-search .search-icon {
    left: .6rem; width: 24px; height: 24px;
  }
  
  /* Ensure mobile nav background covers any texture bleeding - same as navbar */
  .nav-links::before {
    content: '';
    position: absolute;
    inset: 0;
    background: var(--color-bg); /* Exact same as navbar pseudo-element */
    z-index: -1;
  }
  
  /* Only show when open class is added */
  .nav-links.open { 
    transform: translateY(0); /* Slide down smoothly from above */
    opacity: 1; /* Fully visible */
    visibility: visible; /* Make visible */
    pointer-events: auto; /* Enable interactions when visible */
    box-shadow: 0 6px 18px -10px rgba(0,0,0,.3); /* Shadow appears when visible */
  }
  
  .nav-links a { 
    font-size: 1.1rem; 
    font-weight: 600;
    padding: 0.8rem 0;
    border-bottom: 1px solid rgba(0,0,0,0.1);
    text-decoration: none;
    color: #111;
    text-transform: uppercase;
    letter-spacing: 1px;
    transform: translateX(-20px);
    opacity: 0;
    transition: transform 0.3s ease, opacity 0.3s ease, color 0.2s ease;
  }
  
  /* Staggered animation for menu items */
  .nav-links.open a {
    transform: translateX(0);
    opacity: 1;
  }
  
  .nav-links.open a:nth-child(1) {
    transition-delay: 0.1s;
  }
  
  .nav-links.open a:nth-child(2) {
    transition-delay: 0.15s;
  }
  
  .nav-links.open a:nth-child(3) {
    transition-delay: 0.2s;
  }
  
  .nav-links.open a:nth-child(4) {
    transition-delay: 0.25s;
  }
  
  .nav-links.open a:nth-child(5) {
    transition-delay: 0.3s;
  }
  
  .nav-links a:hover {
    color: var(--color-accent);
    transform: translateX(5px);
  }
  
  .nav-links a:last-child {
    border-bottom: none;
  }
  
  /* Add a subtle backdrop blur effect when menu is open */
  .nav-links::after {
    content: '';
    position: fixed;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    background: rgba(0, 0, 0, 0.1);
    z-index: -2;
    opacity: 0;
    transition: opacity 0.3s ease;
    pointer-events: none;
  }
  
  .nav-links.open::after {
    opacity: 1;
  }
  
  body.nav-open { 
    overflow: hidden; 
  }
}

.header-accent { font-family:var(--font-display); color:var(--color-accent-2); font-size:clamp(2rem,5vw,3.3rem); line-height:1; text-shadow:2px 2px 0 #00000033; }

.pill { background:var(--color-accent); color:#fff; padding:.35rem .85rem; border-radius:40px; font-size:.65rem; text-decoration:none; letter-spacing:.6px; display:inline-block; }
.pill:hover { background:#006d60; }

form.auth { max-width:420px; margin:2rem auto; display:grid; gap:.9rem; background:var(--color-surface); padding:1.6rem 1.9rem; border-radius:var(--radius); box-shadow:var(--shadow-card); border:1px solid #e3c1a0; }
form.auth h1 { margin:0; }

table.metrics { width:100%; border-collapse:collapse; }
table.metrics th, table.metrics td { padding:.4rem .6rem; text-align:left; }
table.metrics tbody tr:nth-child(odd) { background:#1a2544; }

/* Empty Cart Styles */
.empty-cart-container {
  display: flex;
  justify-content: center;
  align-items: center;
  min-height: 60vh;
  padding: 2rem;
}

.empty-cart-content {
  text-align: center;
  max-width: 500px;
  background: var(--color-surface);
  padding: 3rem 2rem;
  border-radius: 24px;
  box-shadow: 0 10px 30px -10px rgba(0,0,0,0.2);
  border: 1px solid #e3c1a0;
  position: relative;
  overflow: hidden;
}

.empty-cart-content::before {
  content: '';
  position: absolute;
  top: 0;
  left: 0;
  right: 0;
  bottom: 0;
  background: linear-gradient(135deg, rgba(0,143,125,0.05) 0%, rgba(228,180,126,0.05) 100%);
  z-index: -1;
}

.empty-cart-icon {
  font-size: 4rem;
  margin-bottom: 1.5rem;
  animation: bounce 2s infinite;
  filter: grayscale(20%);
  display: flex;
  justify-content: center;
  align-items: center;
}

.empty-cart-gif {
  width: 120px;
  height: 120px;
  object-fit: contain;
  border-radius: 12px;
}

.empty-cart-title {
  font-family: var(--font-display);
  font-size: 2rem;
  color: var(--color-accent);
  margin: 0 0 1rem 0;
  text-shadow: 1px 1px 0 rgba(0,0,0,0.1);
}

.empty-cart-subtitle {
  color: #666;
  font-size: 1rem;
  margin-bottom: 2rem;
  line-height: 1.6;
}

.empty-cart-animation {
  margin: 2rem 0;
  height: 60px;
  position: relative;
}

.floating-items {
  display: flex;
  justify-content: center;
  gap: 1rem;
  position: relative;
}

.floating-items .item {
  font-size: 1.5rem;
  animation: float 3s ease-in-out infinite;
  opacity: 0.7;
  transition: opacity 0.3s ease;
}

.floating-items .item:nth-child(1) { animation-delay: 0s; }
.floating-items .item:nth-child(2) { animation-delay: 0.5s; }
.floating-items .item:nth-child(3) { animation-delay: 1s; }
.floating-items .item:nth-child(4) { animation-delay: 1.5s; }
.floating-items .item:nth-child(5) { animation-delay: 2s; }

.floating-items .item:hover {
  opacity: 1;
  transform: scale(1.2);
}

.empty-cart-button {
  display: inline-block;
  background: var(--color-accent);
  color: white;
  padding: 1rem 2rem;
  border-radius: 50px;
  text-decoration: none;
  font-weight: 600;
  font-size: 1rem;
  letter-spacing: 0.5px;
  transition: all 0.3s ease;
  box-shadow: 0 4px 15px rgba(0,143,125,0.3);
  margin-bottom: 2rem;
}

.empty-cart-button:hover {
  background: #006d60;
  transform: translateY(-2px);
  box-shadow: 0 6px 20px rgba(0,143,125,0.4);
}

.empty-cart-suggestions {
  margin-top: 1.5rem;
  padding-top: 1.5rem;
  border-top: 1px solid rgba(0,0,0,0.1);
}

.empty-cart-suggestions p {
  font-size: 0.9rem;
  color: #888;
  margin-bottom: 1rem;
}

.suggestion-tags {
  display: flex;
  justify-content: center;
  gap: 0.5rem;
  flex-wrap: wrap;
}

.suggestion-tags .tag {
  background: #f5f5f5;
  color: #666;
  padding: 0.5rem 1rem;
  border-radius: 20px;
  text-decoration: none;
  font-size: 0.8rem;
  transition: all 0.3s ease;
  border: 1px solid #e0e0e0;
}

.suggestion-tags .tag:hover {
  background: var(--color-accent);
  color: white;
  transform: translateY(-1px);
}

/* Animations */
@keyframes bounce {
  0%, 20%, 50%, 80%, 100% {
    transform: translateY(0);
  }
  40% {
    transform: translateY(-10px);
  }
  60% {
    transform: translateY(-5px);
  }
}

@keyframes float {
  0%, 100% {
    transform: translateY(0px);
  }
  50% {
    transform: translateY(-15px);
  }
}

/* Mobile responsive */
@media (max-width: 640px) {
  .empty-cart-container {
    padding: 1rem;
    min-height: 50vh;
  }
  
  .empty-cart-content {
    padding: 2rem 1.5rem;
  }
  
  .empty-cart-title {
    font-size: 1.5rem;
  }
  
  .floating-items {
    gap: 0.5rem;
  }
  
  .floating-items .item {
    font-size: 1.2rem;
  }
  
  .suggestion-tags {
    flex-direction: column;
    align-items: center;
  }
}

/* Admin variant row responsive styling */
.variant-row {
  display: grid;
  grid-template-columns: repeat(4, 1fr) auto;
  gap: 0.5rem;
  align-items: end;
}

.variant-row label {
  display: flex;
  flex-direction: column;
  gap: 0.2rem;
  font-size: 0.65rem;
  font-weight: 500;
}

.variant-row input {
  height: 32px;
  box-sizing: border-box;
}

.variant-row button {
  align-self: end;
  height: 32px;
  width: 32px;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 0.9rem;
}

@media (max-width: 640px) {
  .variant-row {
    grid-template-columns: 2fr 1fr 0.8fr 0.8fr auto !important;
    grid-template-rows: auto !important;
    gap: 0.4rem !important;
    align-items: stretch !important;
  }
  
  /* Make all labels smaller and fit in one row */
  .variant-row label {
    font-size: 0.6rem !important;
    gap: 0.15rem !important;
  }
  
  /* Make inputs smaller on mobile */
  .variant-row input {
    height: 28px !important;
    font-size: 0.65rem !important;
    padding: 0.3rem 0.4rem !important;
  }
  
  /* Make remove button smaller on mobile */
  .variant-row button {
    height: 28px !important;
    width: 28px !important;
    font-size: 0.8rem !important;
    align-self: end !important;
  }
}

/* Footer styles (appended) */
.site-footer { margin-top: 4rem; background: linear-gradient(145deg,var(--color-bg) 0%, var(--color-surface, #f8cfa4) 100%); border-top: 1px solid rgba(0,0,0,.1); position: relative; overflow: hidden; padding: 3.2rem 1.4rem 1.4rem; font-size: .7rem; }

.footer-inner { max-width: 1180px; margin: 0 auto; display:grid; gap:2.2rem; grid-template-columns: repeat(auto-fit, minmax(150px, 1fr)); }
.footer-brand { grid-column: span 1; min-width:180px; }
.footer-logo { font-family: var(--font-display, var(--font-body)); font-size: 1.1rem; letter-spacing: 1px; margin:0 0 .4rem; }
.footer-tag { margin:0 0 .9rem; line-height:1.3; opacity:.75; max-width:200px; }
 .footer-social { display:flex; gap:.6rem; }
/* (Removed old footer .social-icon styles to avoid conflict with hero) */
/* Removed old .social-btn usage; footer now uses .social-icon for consistency */
footer .social-icon { width:34px; height:34px; background:#000; color:#fff; }
footer .social-icon:hover { background:#111; transform:translateY(-3px); }
.footer-block .footer-head { margin:0 0 .7rem; font-size:.65rem; font-weight:700; letter-spacing:1px; text-transform:uppercase; position:relative; padding-bottom:.3rem; }
.footer-block .footer-head::after { content:""; position:absolute; left:0; bottom:0; height:2px; width:34px; background: var(--color-accent,#0c5a4d); border-radius:2px; }
.footer-block ul { list-style:none; padding:0; margin:0; display:grid; gap:.35rem; }
.footer-block a { text-decoration:none; color:#0e3d37; font-weight:500; position:relative; line-height:1.2; padding:.15rem 0; transition:.22s; }
.footer-block a::after { content:""; position:absolute; left:0; bottom:0; height:1px; width:0; background:var(--color-accent,#0c5a4d); transition:width .28s; }
.footer-block a:hover { color: var(--color-accent,#0c5a4d); }
.footer-block a:hover::after { width:100%; }
.footer-bottom { max-width:1180px; margin:2.2rem auto 0; padding-top:1.2rem; border-top:1px solid rgba(0,0,0,.12); text-align:center; font-size:.6rem; letter-spacing:.8px; opacity:.75; }
@media (max-width: 640px) { .site-footer { padding: 2.6rem 1rem 1.2rem; } .footer-inner { gap:1.8rem; } .footer-logo { font-size:1rem; } .footer-block a { font-size:.68rem; } }

/* Admin notification animations */
@keyframes slideInRight {
  from {
    transform: translateX(100%);
    opacity: 0;
  }
  to {
    transform: translateX(0);
    opacity: 1;
  }
}

@keyframes fadeOut {
  from {
    opacity: 1;
  }
  to {
    opacity: 0;
  }
}
