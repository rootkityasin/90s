// Auto-generated manifest mapping raw image filenames to product entries.
// Adjust groupings by merging filenames into the same images[] array entries.

type RawCategory = 'cargos' | 'chinos' | 'tshirt' | 'hoodies' | 'trouser';

// Source filenames per category (includes subfolder 'solid' assets inline)
export const categoryFiles: Record<RawCategory, string[]> = {
  cargos: [
    'cargos/04ea2defbf668c73deddf80cce9d64bc.jpg',
    'cargos/0f6bccee1cd55b5211987a060a6816a3.jpg',
    'cargos/3c97561d79d0c20bd7e1e762c9409a3a.jpg',
    'cargos/3ecf0c25b8aa2932fbeee6a887bc56a4.jpg',
    'cargos/55c3234eff59dac330b33e74724c84fd.jpg',
    'cargos/a3ffe57f71a2958d59124c32689cad82.jpg',
    'cargos/db08518dc240f96526656056f02b1f5f.jpg',
    'cargos/e54fd86c1785aad5b1dd427f980d75ed.jpg',
    'cargos/ea885190bf37c9b2152e8141447e46bc.jpg'
  ],
  chinos: [
    'chinos/1ec74fe8f1dbfa0d21b49ae60838c968.jpg',
    'chinos/333b6769c1bbdfa80a890882cc505779.jpg',
    'chinos/3c947f1202aacd8f349aa4d975997213.jpg',
    'chinos/445dd391fdabc976afc70b12054899b1.jpg',
    'chinos/635f08077af6455caaf46c1bd4e88fda.jpg',
    'chinos/7ec01b89a2ad53291dffc11464215368.jpg',
    'chinos/80c646f5610f012a11fcf0987e21e04b.jpg',
    'chinos/8914b7043c1e097b41d70303a45f1e9e.jpg',
    'chinos/8d412e05c290d476ab55a3f433ee625d.jpg',
    'chinos/d2b5da3921a19d856c57bef2981337b7.jpg',
    'chinos/db22b4c24f65b20a14f4c50aba389f77.jpg',
    'chinos/df2e61b7845ffa22c3c228e32b0e9885.jpg',
    'chinos/ef2da17b3d7d84a0ee6cbb0ac7e1d6cb.jpg',
    'chinos/enzyme wash chino.jpg',
    'chinos/f3369763e3e9c5ee6cfcf6e8c45a47d0.jpg',
    'chinos/mens straight chino.jpg',
    'chinos/NEXT Mens Blue Stretch Chinos Trousers.jpg',
    'chinos/NEXT Mens Ecru White Stretch Chinos Trousers.jpg',
    'chinos/pull on pants.jpg',
    'chinos/slim fit chino.jpg'
  ],
  tshirt: [
    'tshirt/07bea6acb69e74424a03a4680f68e12c.jpg',
    'tshirt/0876ddafdd4d507478c2ddc7c844d57b.jpg',
    'tshirt/0be797d2a46327eff36b93e8a6e6e9ab.jpg',
    'tshirt/0fb834700dc7fc3174915a276e0a1eef.jpg',
    'tshirt/15ae8dbfe12f72256180e48abc78f0c2.jpg',
    'tshirt/23aa776e9c8368e3fccfb0baeb685d06.jpg',
    'tshirt/2465c1e27e13aba572b9576882bd6075.jpg',
    'tshirt/25750508ff3e46813269843e721ef8cc.jpg',
    'tshirt/2c63ea11d760e2aab67ea215dd5f359d.jpg',
    'tshirt/2c83c8cc926b9a8b95f996e897197edd.jpg',
    'tshirt/2c87b008b64e992786e2507a3f56efed.jpg',
    'tshirt/2d5802eab22044917cf03360a1e0f72e.jpg',
    'tshirt/34e81b02e25ab55619c852886035c81f.jpg',
    'tshirt/39c44ec28011cc11717728a461825af0.jpg',
    'tshirt/43e23e585514a7dbc70bcf16560fb245.jpg',
    'tshirt/49af608d0795de0009137a24356fbb2b.jpg',
    'tshirt/57801e358e560a03cdf34b661b6001d7.jpg',
    'tshirt/5d418dbc26ad26206ccec50a9cf80f54.jpg',
    'tshirt/664859f9afe74ef4d3663e63cd6efd70.jpg',
    'tshirt/68c9a11cc44fc80210dd9e3691016a47.jpg',
    'tshirt/69535dee69e1ca455e53b3eb8567e259.jpg',
    'tshirt/8586622be889c499d5ebaa5d775d1593.jpg',
    'tshirt/876a15ce1e1755dfde4e82b48271c7ef.jpg',
    'tshirt/904e13c7132d1fec692d1c76296a7bae.jpg',
    'tshirt/940d72d716ba0063347add99973bc85c.jpg',
    'tshirt/a69d8e442b0e164d27047758c769fbee.jpg',
    'tshirt/a7c620682e9e3636b29dcbceb6f6b1f3.jpg',
    'tshirt/b710ec9cfcc997cd39f26eb41a368cbc.jpg',
    'tshirt/bb131fdde77df2f3deabf5eb4f9c191a.jpg',
    'tshirt/bear cartoon print.jpg',
    'tshirt/bear shirt.jpg',
    'tshirt/c0bb3d68bce4c9309aa19e72b1f9fbec.jpg',
    'tshirt/c601e51e6977181fb20f728ccb4db90d.jpg',
    'tshirt/c9df4d92db64374f5ba00ad8ba4b37a0.jpg',
    'tshirt/cd43b43d36f1a78db18c996a077a13b3.jpg',
    'tshirt/cee8337065237170ab5c430b4c88c1e9.jpg',
    'tshirt/cf55681602d3e98c055084a99760a563.jpg',
    'tshirt/cfa9d6d19f0078319974b668c23be855.jpg',
    'tshirt/d1f52cfd983660aefe0e9f04553bf216.jpg',
    'tshirt/d5e8b14d4a966726daa375b98ee55d4c.jpg',
    'tshirt/d8fe8ae3474587a3c343de78a3ded4d6.jpg',
    'tshirt/db0066e7e8eed1d7319d8a31e80c60d5.jpg',
    'tshirt/e1d56e1c76b3e42b3da775658557ac1b.jpg',
    'tshirt/e2150addb9e6bd1af82d7017ec0822a8.jpg',
    'tshirt/e875096f056b2c706dcf9d73d01fb981.jpg',
    'tshirt/f5161d6c85af48896008513dab05051d.jpg',
    'tshirt/fd438d43e3ac5ce20b9e35ece37df018.jpg',
    'tshirt/ff1d36a0fb6647375db5ed110e13c95e.jpg',
    'tshirt/graphic tee.jpg',
    'tshirt/Guys Letter Cartoon Graphic Tee.jpg',
    'tshirt/Guys Slogan Figure Graphic Drop Shoulder Tee.jpg',
    'tshirt/high density print tee.jpg',
    'tshirt/japanese wash tshirt.jpg',
    'tshirt/japnese washed.jpg',
    'tshirt/puff letter Tee.jpg',
    'tshirt/puff.jpg',
    'tshirt/solid/0e2b28283b60dc0389aa6d49a05bd4c0.jpg',
    'tshirt/solid/10f5fd43b728eab2872fbeb059009c7e.jpg',
    'tshirt/solid/11e0c7b9b880dba6812c305f6f51c212.jpg',
    'tshirt/solid/13b33d6e2395d5e4feeaf7492888a401.jpg',
    'tshirt/solid/48cc5f75c6bd3d62299eb3cff95d88ff.jpg',
    'tshirt/solid/99f4fa8a1d326471b316a5d516ab606c.jpg',
    'tshirt/solid/9f66ef4b010623d905a7978b2faa8c5e.jpg',
    'tshirt/solid/a4141bf8eb803f452080d1d2e4193172.jpg',
    'tshirt/solid/d69b45df33eaf21a533615e382ccda3c.jpg',
    'tshirt/solid/f5e06d9548630ca0b5d0fd6b8575ff7a.jpg'
  ],
  hoodies: [
    'hoodies/085c003a42f5a21f827cbc4080c612a6.jpg',
    'hoodies/0e1d2f7b7e8509b1cd75f1acab57bda8.jpg',
    'hoodies/0fa9e790462e64270098bf94d303ed8d.jpg',
    'hoodies/0fca51a6a4ef2732072208747f8e8753.jpg',
    'hoodies/2cb2c5d199807d68fb7d348a07061e54.jpg',
    'hoodies/559b7d9643bdbe8c7a96d76158466766.jpg',
    'hoodies/60501f20c749c1f025c2251aa4446a2b.jpg',
    'hoodies/6b0b7cc7ea02dffda94450789bfe113d.jpg',
    'hoodies/6dc994232a421c0a26d8194ccbfc3ec2.jpg',
    'hoodies/7d75109d7c87d3b0ffd044badd11cb39.jpg',
    'hoodies/7f46e6fd84673beb7cb4b7bc7c344eb3.jpg',
    'hoodies/9034135ff87fd5537081f6cfc9d50d26.jpg',
    'hoodies/97737f6f13a5cd309d8060aa9d5d241a.jpg',
    'hoodies/a6821844901b0e284a91b11298dc6d58.jpg',
    'hoodies/ae9f78da6d326ba0e04696217a880569.jpg',
    'hoodies/b31372d7cbfd8a85d1cc445ee224c4f5.jpg',
    'hoodies/baa7eed5a7a9e55d8307a2b838791f3a.jpg',
    'hoodies/cdd16d2192b43d35ee986a0c62c32882.jpg',
    'hoodies/d10aabad9e61d48cfbc47b1d35bf7e8b.jpg',
    'hoodies/dffcabb68fbf735a27cec455adc2f0c6.jpg',
    'hoodies/e2e29ebbbb3b9eb5d296642486cd9782.jpg',
    'hoodies/ed1c41b31f7fb11cf0f6dac5224df150.jpg',
    'hoodies/f0bd069e9c129226eef9da6d0f037cd5.jpg',
    'hoodies/f5fa88f215f1f6842783affc38351bcc.jpg',
    'hoodies/f98781064177454826e28a447456057a.jpg',
    'hoodies/solid/093cf739eb521baf6badedd8a4462e75.jpg',
    'hoodies/solid/1d86575137e7f3134ba2d63ae1b4e1f1.jpg',
    'hoodies/solid/2f1cb53ead360a389c0a7d8f254898a5.jpg',
    'hoodies/solid/365c8373bbe43b2a1e70057c5da469dc.jpg',
    'hoodies/solid/552fbde06cf43a7aeb8990532a638b3a.jpg',
    'hoodies/solid/5c2b2e20af0b6db49b3ac1738dee73b1.jpg',
    'hoodies/solid/67eeb7cd57d939c5787802c553faf685.jpg',
    'hoodies/solid/b8fa222d53a68b9470f0c43610c16236.jpg',
    'hoodies/solid/bb61dfb1468f9c134cce2dfecdcabd97.jpg',
    'hoodies/solid/d5019a1f3c4c29e52041eaaf64bcc215.jpg',
    'hoodies/solid/de068c7ebe5700bc5de539ef33c9ea47.jpg',
    'hoodies/solid/e5b5f3db3c864725f582d95fdc61bb8a.jpg',
    'hoodies/solid/ee5ca491194327a8f60c84f7c233d48e.jpg',
    'hoodies/solid/fbe7ef97022d7b2cb8e818b657e9729d.jpg'
  ],
  trouser: [
    'trouser/3af1afeec5289b471d1de8ef1c746707.jpg',
    'trouser/5b1d052ee95380c94a0b5007aa5cf1ab.jpg',
    'trouser/6214e2a2443ee78105b3e0ad6d07bf60.jpg',
    'trouser/7feb410b92183d9964c5c38ec8c799df.jpg',
    'trouser/83fd5a90a581f697d8e829dc7544f8ce.jpg',
    'trouser/cfdfd11e5769d0d4630d8c557e5e1ced.jpg',
    'trouser/f3a8e4d13f23763b2d08f038412392d2.jpg'
  ]
};

// Strategy: one product per image for now (cannot auto-detect which belong together without visual similarity).
// To merge: create an entry in manualGroups with an array of file names -> product slug/title mapping.

export interface ManualGroup {
  category: RawCategory;
  title: string; // product title
  slug: string; // stable slug
  description?: string;
  files: string[]; // relative paths inside /assets/products
}

export const manualGroups: ManualGroup[] = [
  // Example grouping (adjust or add more): group first three cargo images as one product.
  {
    category: 'cargos',
    title: 'Classic Cargo Pant',
    slug: 'classic-cargo-pant',
    description: 'Utility multi-pocket cargo pant.',
    files: [
      'cargos/04ea2defbf668c73deddf80cce9d64bc.jpg',
      'cargos/0f6bccee1cd55b5211987a060a6816a3.jpg',
      'cargos/3c97561d79d0c20bd7e1e762c9409a3a.jpg'
    ]
  }
];

// Simple slugify for filenames (drop extension, replace spaces)
const slugify = (s: string) => s.toLowerCase().replace(/\.[a-z0-9]+$/, '').replace(/[^a-z0-9]+/g, '-').replace(/^-+|-+$/g,'');

export interface GeneratedProductData {
  category: RawCategory;
  slug: string;
  title: string;
  images: string[];
  heroImage: string;
  description?: string;
}

export function generateProductsFromManifest(): GeneratedProductData[] {
  const used = new Set<string>();
  const results: GeneratedProductData[] = [];

  // Manual groups first
  for (const g of manualGroups) {
    g.files.forEach(f => used.add(f));
    results.push({
      category: g.category,
      slug: g.slug,
      title: g.title,
      images: g.files.map(f => `/assets/products/${f}`),
      heroImage: `/assets/products/${g.files[0]}`,
      description: g.description
    });
  }

  // Remaining singletons per file
  (Object.keys(categoryFiles) as RawCategory[]).forEach(cat => {
    categoryFiles[cat].forEach(file => {
      if (used.has(file)) return;
      const base = file.substring(file.lastIndexOf('/')+1);
      const isNamed = /[a-zA-Z]/.test(base) && base.includes(' ');
      const title = isNamed ? base.replace(/\.[a-z0-9]+$/i,'') : `${cat} style`; // generic title
      const slug = slugify(isNamed ? base : `${cat}-${base}`);
      results.push({
        category: cat,
        slug,
        title: title.replace(/-/g,' '),
        images: [`/assets/products/${file}`],
        heroImage: `/assets/products/${file}`
      });
    });
  });

  return results;
}
